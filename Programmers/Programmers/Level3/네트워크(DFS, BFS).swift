//
//  α„‚α…¦α„α…³α„‹α…―α„α…³(DFS, BFS).swift
//  Programmers
//
//  Created by Junyoung on 5/1/25.
//

import Foundation

func solution_network(_ n:Int, _ computers:[[Int]]) -> Int  {
    // κ° μ»΄ν“¨ν„°κ°€ λ°©λ¬Έλμ—λ”μ§€ μ—¬λ¶€λ¥Ό μ €μ¥ν•λ” λ°°μ—΄
    var visited = [Bool](repeating: false, count: n)
    
    // λ„¤νΈμ›ν¬(μ—°κ²°λ λ©μ–΄λ¦¬)μ κ°μλ¥Ό μ…
    var networkCount = 0
    
    // DFS: ν„μ¬ μ»΄ν“¨ν„°(node)μ—μ„ μ—°κ²°λ λ¨λ“  μ»΄ν“¨ν„°λ¥Ό λ°©λ¬Έ μ²λ¦¬
    func dfs(_ node: Int) {
        // ν„μ¬ λ…Έλ“λ¥Ό λ°©λ¬Έν–λ‹¤κ³  ν‘μ‹
        visited[node] = true
        print("β… λ°©λ¬Έ μ‹μ‘: \(node)λ² μ»΄ν“¨ν„°")
        
        // 0λ¶€ν„° n-1κΉμ§€ λ¨λ“  μ»΄ν“¨ν„°μ— λ€ν•΄
        for i in 0..<n {
            // λ§μ•½ nodeμ™€ iκ°€ μ—°κ²°λμ–΄ μκ³ , iκ°€ μ•„μ§ λ°©λ¬Έλμ§€ μ•μ•λ‹¤λ©΄
            if computers[node][i] == 1 && !visited[i] {
                print("π”— \(node)λ² μ»΄ν“¨ν„° β†’ \(i)λ² μ»΄ν“¨ν„° μ—°κ²°λ¨ (μ•„μ§ λ°©λ¬Έ μ• ν•¨)")
                dfs(i) // μ—°κ²°λ μ»΄ν“¨ν„°λ΅ μ¬κ·€ νƒμƒ‰
            } else if computers[node][i] == 1 && visited[i] {
                print("π” \(node)λ² μ»΄ν“¨ν„° β†’ \(i)λ² μ»΄ν“¨ν„° μ—°κ²°λ¨ (μ΄λ―Έ λ°©λ¬Έν•¨)")
            } else {
                print("β \(node)λ² μ»΄ν“¨ν„° β†’ \(i)λ² μ»΄ν“¨ν„° μ—°κ²°λμ§€ μ•μ")
            }
        }
        print("β¬…οΈ \(node)λ² μ»΄ν“¨ν„° DFS μΆ…λ£")
    }
    
    // λ¨λ“  μ»΄ν“¨ν„°μ— λ€ν•΄ λ°©λ¬Έν•μ§€ μ•μ€ μ»΄ν“¨ν„°κ°€ μμΌλ©΄ DFS μ‹¤ν–‰
    for i in 0..<n {
        // μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ€ μ»΄ν“¨ν„°λΌλ©΄, μƒλ΅μ΄ λ„¤νΈμ›ν¬μ μ‹μ‘
        if !visited[i] {
            print("==== \(i)λ² μ»΄ν“¨ν„°μ—μ„ DFS μ‹μ‘ ====")
            // μ΄ μ»΄ν“¨ν„°λ¥Ό μ‹μ‘μΌλ΅ μ—°κ²°λ λ¨λ“  μ»΄ν“¨ν„° λ°©λ¬Έ μ²λ¦¬ + λ„¤νΈμ›ν¬ κ°μ μ¦κ°€
            dfs(i)
            networkCount += 1
            print("π λ„¤νΈμ›ν¬ κ°μ μ¦κ°€ β†’ ν„μ¬κΉμ§€ \(networkCount)\n")
        }
    }
    
    return networkCount
}
